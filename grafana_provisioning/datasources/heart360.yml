# ./provisioning/datasources/postgres-db.yml
apiVersion: 1

datasources:
  - name: Hypertension Data (PostgreSQL)
    uid: postgres-hypertension
    type: postgres
    url: postgres:5432
    user: grafana_user
    access: proxy
    isDefault: false 
    version: 4
    editable: true
    jsonData:
      # Host is the Docker service name, port is the default 5432
      host: 
      port: 5432
      database: metrics_db
      # Use a secure connection if needed, but 'disable' is common for Docker environments
      sslmode: disable
      searchPath: public
      # Postgres plugin requires this for time series
      timescaledb: false
      maxOpenConns: 0
      maxIdleConns: 2
      maxIdleConnsLifetime: 14400
      pool: false
      # Settings for the time column and schema visibility
      timeseries: true
      timeInterval: 
      intVal: true
    secureJsonData:
      # Password must be stored securely
      password: your_db_password
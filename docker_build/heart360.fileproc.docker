FROM devodev/inotify

# Installs dependencies
RUN apk update
RUN apk upgrade
RUN apk add python3 py3-pip
RUN pip install --break-system-packages pandas openpyxl psycopg2-binary python-calamine

# copies files that are required
COPY ./inotify_scripts/fileproc.sh /scripts/fileproc.sh

# Sets environement variables
ENV INOTIFY_TARGET=/data
ENV INOTIFY_SCRIPT=/scripts/fileproc.sh
ENV H360TK_DATA_LOAD_SCRIPT=__CHANGE_THIS__
